<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>E-Learning SMP</title>
  <script>
    const user = JSON.parse(localStorage.getItem("loggedInUser"));
    if (!user) {
      window.location.href = "index.html";
    }
  </script>
</head>

<body>
  <header class="headerBox">
    <button id="menu-toggle" class="menu-toggle">â˜°</button>
    <div class="headerSpacer"></div>
    <div class="headerTitle">
      <h1>E-Learning SMP</h1>
      <p id="welcome-msg"></p>
    </div>
    <div class="headerProfile">
      <img src="assets/profile.png" class="thumb">
    </div>
  </header>

  <nav id="nav-bar">
    <a href="dashboard.html" class="select">Dashboard</a>
    <a href="materi.html">Materi</a>
    <a href="kuis.html">Kuis</a>
    <a href="forum.html">Forum</a>
    <a href="profil.html">Profil</a>
  </nav>

  <!-- STUDENT -->
  <div class="container" data-role="student">
    <div class="card">
      <h2>ğŸ† Papan Peringkat</h2>
      <p>Peringkat siswa berdasarkan nilai total dari kuis & tugas.</p>

      <h3 id="user-rank"></h3>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Peringkat</th>
              <th>Nama Siswa</th>
              <th>Kelas</th>
              <th>Nilai Total</th>
            </tr>
          </thead>
          <tbody id="leaderboard-body">
            <!-- leaderboard rows injected here -->
          </tbody>
        </table>
      </div><button id="load-more" style="margin-top: 10px;" class="btn">Tampilkan lebih banyak</button>

    </div>

    <!--
    <div class="card">
      <h2>Progress Belajar</h2>
      <div class="progress-bar">
        <div class="progress"></div>
      </div>
      <p>60% selesai</p>
    </div>
    -->

    <!-- Newest Lessons Section -->
    <div class="card">
      <h2>ğŸ“š Materi Terbaru</h2>
      <div id="newest-lessons">
        <p>Memuat materi terbaru...</p>
      </div>
    </div>

    <!-- Active Quizzes Section -->
    <div class="card">
      <h2>ğŸ“ Kuis Aktif</h2>
      <div id="active-quizzes">
        <p>Memuat kuis aktif...</p>
      </div>
    </div>
  </div>

  <!-- TEACHER -->
  <div class="container" data-role="teacher">

    <div class="card">
      <h2>ğŸ“š Kelas yang Diampu</h2>
      <ul id="teacher-classes">
        <li>Memuat data...</li>
      </ul>
    </div>

    <div class="card">
      <h2>ğŸ“ Aktivitas Terakhir</h2>
      <div id="teacher-activity">
        Memuat aktivitas...
      </div>
    </div>

    <div class="card">
      <h2>ğŸ‘¥ Daftar Siswa</h2>
      <p id="teacher-class-info" style="margin-bottom: 10px; opacity: 0.8;"></p>
      <div class="table-wrapper">
        <table id="teacher-students-table">
          <thead>
            <tr>
              <th>Nama Siswa</th>
              <th>NISN</th>
            </tr>
          </thead>
          <tbody id="teacher-students"></tbody>
        </table>
      </div>
    </div>

  </div>

  <!-- ADMIN -->
  <div class="container" data-role="admin">

    <div class="card">
      <h2>ğŸ‘¥ Kelola Pengguna</h2>
      <p>Admin dapat membuat, mengedit, mencari, dan menghapus pengguna.</p>

      <button class="btn" onclick="window.location.href='admin-users.html'">
        Buka Manajemen Pengguna
      </button>
    </div>

  </div>



  <footer>
    &copy; 2025 E-Learning SMP | Dikembangkan oleh Tim
  </footer>

  <script src="dataSiswa.js"></script>
  <script src="main.js"></script>
</body>

</html>